
### Test Categories

```
Basic Operations
   - Buy, refund, withdrawal flows
   - Shop open/close
   - Nonce tracking

Constructor Validation
   - Parameter validation
   - Misconfiguration prevention

Ownership Transfer
   - 2-step transfer process
   - Authorization checks
   - Edge cases

Confirmation System
   - Confirm receipt
   - Double confirmation prevention
   - Access control

Accounting Security
   - TAX inclusion validation
   - Refund calculation correctness
   - Direct transfer rejection
   - Withdrawal math verification

Refund Period Protection
   - Confirmed funds locked during period
   - Available after period
   - User can still refund confirmed orders
   - Prevents double withdrawal issue
   - Mixed scenario handling

Edge Cases
   - Multiple orders
   - Expired refunds
   - Insufficient amounts
   - Unauthorized access
   - Time-based scenarios
```
